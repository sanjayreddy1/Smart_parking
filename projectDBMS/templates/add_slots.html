<!DOCTYPE html>
<html>
<head>
    <title>Add Slot - Smart Car Parking</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h2>Add Parking Slot</h2>
    <form method="post" class="mt-3 col-md-6">
        <label>Slot ID (e.g., A1, B2)</label>
        <input type="text" name="slot_id" class="form-control mb-2" required>
        <label>Status</label>
        <select name="status" class="form-control mb-2" id="statusSelect" onchange="toggleVehicleField()">
            <option value="available">Available</option>
            <option value="occupied">Occupied</option>
        </select>
        <div id="vehicleDiv" style="display: none;">
            <label>Vehicle Number</label>
            <input type="text" name="vehicle_number" class="form-control mb-3" placeholder="TN 18 BA 1800">
        </div>
        <button class="btn btn-success" type="submit">Add Slot</button>
    </form>
    {% if msg %}
    <p class="msg text-success">{{ msg }}</p>
    {% endif %}
</div>

<script>
function toggleVehicleField() {
    const status = document.getElementById("statusSelect").value;
    document.getElementById("vehicleDiv").style.display = (status === 'occupied') ? 'block' : 'none';
}
</script>
</body>
</html>
